import{R as w}from "./chunks/index.717f88cd.js";import{L as c}from "./chunks/Logo.cde28912.js";import{u}from "./chunks/useApi.0abc6ef7.js";import{u as f}from "./chunks/useQueryParams.5ca6a310.js";import{j as e}from "./chunks/jsx-runtime.ad781e20.js";function y(){const{postData:x,data:d,error:j}=u("/password-reset"),r=f(),[s,a]=w.useState({newPassword:"",confirmNewPassword:""}),o=[{text:"At least 8 characters",isMet:s.newPassword.length>=8},{text:"At least 1 lowercase letter",isMet:s.newPassword.match(/[a-z]/g)},{text:"At least 1 uppercase letter",isMet:s.newPassword.match(/[A-Z]/g)},{text:"At least 1 number",isMet:s.newPassword.match(/[0-9]/g)},{text:"At least 1 special character",isMet:s.newPassword.match(/[^a-zA-Z\d]/g)},{text:"Passwords match",isMet:s.newPassword===s.confirmNewPassword}],l="w-full px-4 py-4 border-[1px] border-brand-100",n=o.reduce((t, p)=>t&&p.isMet,!0),i=n?"bg-brand text-white cursor-pointer":"bg-gray-300 text-gray-600",m= t=>{t.preventDefault(),n&&x({newPassword:s.newPassword,confirmationCode:r.code,emailAddress:r.email})};return d?e.exports.jsx(h,{}):e.exports.jsx("div",{className:"w-full flex justify-center",children:e.exports.jsxs("div",{className:"relative flex flex-col items-center p-4 w-[500px] rounded rounded-xl bg-white",children:[e.exports.jsx("div",{className:"mb-12 mt-8",children:e.exports.jsx(c,{className:"scale-125",color:"black"})}),e.exports.jsx("h1",{className:"text-stone-700 text-center text-2xl mb-4",children:"Reset your password"}),e.exports.jsxs("div",{className:"flex flex-col w-full justify-start mb-4 ml-2",children:[e.exports.jsx("span",{className:"text-stone-500 text-sm mb-2",children:"Password requirements:"}),e.exports.jsx("ul",{className:"text-stone-500 text-sm list-disc ml-4",children:o.map(t=>e.exports.jsx("li",{className:t.isMet?"text-green-500":"text-red-500",children:t.text}))})]}),e.exports.jsxs("form",{onSubmit:m,children:[e.exports.jsx("input",{type:"password",value:s.newPassword,onChange: t=>a({...s,newPassword:t.target.value}),placeholder:"New password",className:`${l} rounded-t`}),e.exports.jsx("input",{type:"password",value:s.confirmNewPassword,onChange: t=>a({...s,confirmNewPassword:t.target.value}),placeholder:"Confirm new password",className:`${l} border-t-0 rounded-b`}),e.exports.jsx("input",{type:"submit",value:"Reset password",className:`w-full mt-8 rounded ${i} font-bold h-[52px]`})]})]})})}function h(){return e.exports.jsx("div",{className:"w-full flex justify-center",children:e.exports.jsxs("div",{className:"flex flex-col items-center p-4 w-[500px] rounded rounded-xl bg-white",children:[e.exports.jsx("div",{className:"mb-12 mt-8",children:e.exports.jsx(c,{className:"scale-125",color:"black"})}),e.exports.jsxs("div",{className:"flex flex-col mb-8 items-center w-2/3 text-center",children:[e.exports.jsx("h1",{className:"text-stone-700 text-2xl mb-4",children:"Password successfully reset!"}),e.exports.jsx("span",{className:"text-stone-500 text-sm",children:"You can now log in with your new password."}),e.exports.jsx("a",{href:"/login",className:"text-brand-500",children:"Log in"})]})]})})}export{y as default};
